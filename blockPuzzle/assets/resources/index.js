System.register("chunks:///_virtual/gameOver.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./scoreManager.ts"],(function(e){"use strict";var t,r,n,i,o,a,c,s,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Label,s=e.director,l=e.Component},function(e){u=e.ScoreManager}],execute:function(){var g,p,v,f,h,m,y;o._RF.push({},"06354+8nPNIoqdAd4s6UuK8","gameOver",void 0);var d=a.ccclass,S=a.property;e("GameOver",(g=d("GameOver"),p=S({type:c}),v=S({type:c}),g((m=t((h=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(i(t),"scoreTxt",m,i(t)),n(i(t),"gameOverTxt",y,i(t)),t}r(t,e);var o=t.prototype;return o.start=function(){},o.showGameOver=function(){this.setScore(),this.node.active=!0},o.setScore=function(){u.instance.resetHighScore(),this.scoreTxt.string="Score : "+u.instance.getScore().toString(),this.gameOverTxt.string="Best : "+u.instance.getHighScore().toString()},o.onRestartBtnClicked=function(){s.loadScene("game")},t}(l)).prototype,"scoreTxt",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(h.prototype,"gameOverTxt",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/gamePlay.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./scoreManager.ts","./constant.ts","./commonFunc.ts"],(function(e){"use strict";var t,r,a,o,i,n,c,l,s,h,u,p,g,y,d,k,B,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.defineProperty},function(e){n=e.cclegacy,c=e._decorator,l=e.Node,s=e.Prefab,h=e.UITransform,u=e.Vec2,p=e.Vec3,g=e.instantiate,y=e.Label,d=e.Component},function(e){k=e.ScoreManager},function(e){B=e.constant},function(e){v=e.CommonFunc}],execute:function(){var A,f,C,b,m,S,T,P,N,w,x,I,D;n._RF.push({},"29508n1TCVAgKIZECCOdVKQ","gamePlay",void 0);var O=c.ccclass,E=c.property;e("GamePlay",(A=O("GamePlay"),f=E({type:l}),C=E({type:l}),b=E({type:l}),m=E({type:s}),S=E({type:s}),A((N=t((P=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=e.call.apply(e,[this].concat(n))||this,a(o(t),"playArea",N,o(t)),a(o(t),"dragableBlockArea",w,o(t)),a(o(t),"gameOverNode",x,o(t)),a(o(t),"blockNode",I,o(t)),a(o(t),"dragBlock",D,o(t)),i(o(t),"playAreaBlockArray",[]),i(o(t),"playAreaBlockMatrixArray",[]),i(o(t),"playableBlockArray",[]),i(o(t),"currentTouchedBlock",null),i(o(t),"previousTouchedBlockId",null),i(o(t),"blockCanBePlaced",!1),t}r(t,e);var n=t.prototype;return n.start=function(){this.createAllBlocks(B.matrixSize),this.createRandomPlayableBlock(),this.initialiseScoreData(),this.node.on(l.EventType.TOUCH_START,this.onTouchStart,this,!0),this.node.on(l.EventType.TOUCH_MOVE,this.onTouchMove,this,!0),this.node.on(l.EventType.TOUCH_END,this.onTouchEnd,this,!0),this.node.on(l.EventType.TOUCH_CANCEL,this.onTouchEnd,this,!0)},n.onTouchStart=function(e){for(var t=0;t<this.playableBlockArray.length;t++){var r=this.playableBlockArray[t],a=r.getComponent(h).getBoundingBoxToWorld(),o=v.instance.getCurrentScript(r);if(a.contains(new u(e.getUILocation().x,e.getUILocation().y))&&o.checkIsAccesible())return o.resetBlock(!1),this.blockCanBePlaced=!1,this.currentTouchedBlock=r,void this.moveBlock(r,e.getUILocation())}},n.onTouchMove=function(e){if(this.currentTouchedBlock){this.moveBlock(this.currentTouchedBlock,e.getUILocation());for(var t=0;t<this.playAreaBlockArray.length;t++){var r=this.playAreaBlockArray[t],a=v.instance.getCurrentScript(r);if(r.getComponent(h).getBoundingBoxToWorld().contains(new u(e.getUILocation().x,e.getUILocation().y+this.currentTouchedBlock.getComponent(h).height))){this.previousTouchedBlockId&&this.previousTouchedBlockId!=a.uuid&&(this.blockCanBePlaced=!1,this.resetAllData()),this.previousTouchedBlockId=a.uuid;var o=v.instance.getRespectiveBlockFunction(v.instance.getCurrentScript(this.currentTouchedBlock).currentBlockType,a.position.row,a.position.column);if(o.length>0){for(var i=[],n=0;n<this.playAreaBlockArray.length;n++)for(var c=this.playAreaBlockArray[n],l=(a=v.instance.getCurrentScript(c),0);l<o.length;l++){var s=o[l];s.row!=a.position.row||s.column!=a.position.column||a.getBlockedState()||i.push(c)}if(o.length==i.length){this.blockCanBePlaced=!0;for(var p=0;p<i.length;p++){var g=i[p];(a=v.instance.getCurrentScript(g)).getActiveState()||a.toggleActive()}}}return}this.blockCanBePlaced=!1,this.resetAllData()}}},n.onTouchEnd=function(e){if(this.currentTouchedBlock){var t=v.instance.getCurrentScript(this.currentTouchedBlock);if(t.resetBlock(!0),this.blockCanBePlaced){for(var r=0;r<this.playAreaBlockArray.length;r++){var a=this.playAreaBlockArray[r],o=v.instance.getCurrentScript(a);o.getActiveState()&&o.activateBlockedData()}t.disableAcess(),this.checkAllPlayableBlockNotUsed()||this.resetAllPlayableBlock(),this.checkPointsEarned()}this.checkGameOverScenarios(),this.currentTouchedBlock=null}},n.moveBlock=function(e,t){var r=new p(t.x+.3*e.getComponent(h).width,t.y+.6*e.getComponent(h).height,0);e.setWorldPosition(r)},n.convertXPOS=function(e){return e-this.node.getComponent(h).width/2},n.convertYPOS=function(e){return e-this.node.getComponent(h).height/2},n.resetAllData=function(){for(var e=0;e<this.playAreaBlockArray.length;e++){var t=this.playAreaBlockArray[e],r=v.instance.getCurrentScript(t);r.getBlockedState()||r.getActiveState()&&r.toggleActive()}},n.createAllBlocks=function(e){for(var t=0;t<e;t++){for(var r=[],a=0;a<e;a++){var o=g(this.blockNode);this.playArea.addChild(o),v.instance.getCurrentScript(o).initialiseProperties(t,a),v.instance.getCurrentScript(o).opaqueActiveBlock(150),this.playAreaBlockArray.push(o),r.push(o)}this.playAreaBlockMatrixArray.push(r)}},n.createRandomPlayableBlock=function(){for(var e=0;e<B.dragBlockData.size;e++){var t=g(this.dragBlock);this.dragableBlockArea.addChild(t),v.instance.getCurrentScript(t).initialiseSetup(),this.playableBlockArray.push(t)}},n.checkAllPlayableBlockNotUsed=function(){for(var e=!1,t=0;t<this.playableBlockArray.length;t++){var r=this.playableBlockArray[t];if(v.instance.getCurrentScript(r).checkIsAccesible()){e=!0;break}}return e},n.resetAllPlayableBlock=function(){for(var e=0;e<this.playableBlockArray.length;e++){var t=this.playableBlockArray[e],r=v.instance.getCurrentScript(t);r.initialiseSetup(),r.enableAcess()}},n.checkPointsEarned=function(){var e=this.checkRowFilled(),t=this.checkColumnFilled();e=e.concat(t);for(var r=0;r<e.length;r++)this.removeallBlockedData(e[r])},n.checkRowFilled=function(){for(var e=[],t=0;t<this.playAreaBlockMatrixArray.length;t++){for(var r=this.playAreaBlockMatrixArray[t],a=!0,o=[],i=0;i<r.length;i++){var n=v.instance.getCurrentScript(r[i]);if(o.push(r[i]),!n.getBlockedState()){a=!1;break}}a&&e.push(o)}return e},n.checkColumnFilled=function(){for(var e=[],t=0;t<this.playAreaBlockMatrixArray.length;t++){for(var r=this.playAreaBlockMatrixArray[t],a=!0,o=[],i=0;i<r.length;i++){var n=this.playAreaBlockMatrixArray[i][t],c=v.instance.getCurrentScript(n);if(o.push(n),!c.getBlockedState()){a=!1;break}}a&&e.push(o)}return e},n.removeallBlockedData=function(e){for(var t=0;t<e.length;t++){var r=e[t],a=v.instance.getCurrentScript(r);a.deActivateBlockedData(),a.getActiveState()||a.toggleActive(),a.toggleActive(),a.opaqueActiveBlock(150)}k.instance.updateScore(1),this.updateScoreLabel()},n.initialiseScoreData=function(){this.node.getChildByName("hud").getChildByName("scoreNode").getChildByName("txt").getComponent(y).string=k.instance.getScore().toString(),this.node.getChildByName("hud").getChildByName("highScoreNode").getChildByName("txt").getComponent(y).string=k.instance.getHighScore().toString()},n.updateScoreLabel=function(){this.node.getChildByName("hud").getChildByName("scoreNode").getChildByName("txt").getComponent(y).string=k.instance.getScore().toString()},n.checkGameOverScenarios=function(){for(var e=!1,t=0;t<this.playAreaBlockArray.length;t++)for(var r=v.instance.getCurrentScript(this.playAreaBlockArray[t]),a=0;a<this.playableBlockArray.length;a++){var o=this.playableBlockArray[a];if(v.instance.getCurrentScript(o).checkIsAccesible()){var i=v.instance.getRespectiveBlockFunction(v.instance.getCurrentScript(o).currentBlockType,r.position.row,r.position.column);if(i.length>0){for(var n=[],c=0;c<this.playAreaBlockArray.length;c++)for(var l=this.playAreaBlockArray[c],s=v.instance.getCurrentScript(l),h=0;h<i.length;h++){var u=i[h];u.row!=s.position.row||u.column!=s.position.column||s.getBlockedState()||n.push(l)}if(i.length==n.length){e=!0;break}}}}e||v.instance.getCurrentScript(this.gameOverNode).showGameOver()},t}(d)).prototype,"playArea",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(P.prototype,"dragableBlockArea",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(P.prototype,"gameOverNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(P.prototype,"blockNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(P.prototype,"dragBlock",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=P))||T));n._RF.pop()}}}));

System.register("chunks:///_virtual/commonFunc.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./constant.ts"],(function(t){"use strict";var r,n,o,e,a;return{setters:[function(t){r=t.defineProperty,n=t.createClass},function(t){o=t.cclegacy,e=t._decorator},function(t){a=t.constant}],execute:function(){var i,c,u;o._RF.push({},"2db5e1B+oVNC7S5nWRrbKXK","commonFunc",void 0);var m=e.ccclass;e.property,t("CommonFunc",m("CommonFunc")((u=c=function(){function t(){}var r=t.prototype;return r.getCurrentScript=function(t){var r=null;return t.getComponent("Block")&&(r=t.getComponent("Block")),t.getComponent("DragBlock")&&(r=t.getComponent("DragBlock")),t.getComponent("GameOver")&&(r=t.getComponent("GameOver")),r},r.getRandomInt=function(t,r){return t=Math.ceil(t),r=Math.floor(r),Math.floor(Math.random()*(r-t+1))+t},r.getRespectiveBlockFunction=function(r,n,o){return t.instance["getBlock"+r+"Data"](n,o)},r.getBlock1Data=function(t,r){var n=[];if(t+2<a.matrixSize&&r+1<a.matrixSize){for(var o=0;o<=2;o++)n.push({row:t+o,column:r});n.push({row:t+2,column:r+1})}return n},r.getBlock2Data=function(t,r){var n=[];if(t<a.matrixSize&&r+3<a.matrixSize)for(var o=0;o<=3;o++)n.push({row:t,column:r+o});return n},r.getBlock3Data=function(t,r){var n=[];if(t+1<a.matrixSize&&r+2<a.matrixSize){for(var o=0;o<=2;o++)n.push({row:t+1,column:r+o});n.push({row:t,column:r+1})}return n},r.getBlock4Data=function(t,r){var n=[];if(t+3<a.matrixSize&&r<a.matrixSize)for(var o=0;o<=3;o++)n.push({row:t+o,column:r});return n},r.getBlock5Data=function(t,r){var n=[];return t<a.matrixSize&&r<a.matrixSize&&n.push({row:t,column:r}),n},r.getBlock6Data=function(t,r){var n=[];if(t+1<a.matrixSize&&r+2<a.matrixSize)for(var o=0;o<=1;o++)for(var e=0;e<=2;e++)0==o&&0==e||1==o&&2==e||n.push({row:t+o,column:r+e});return n},r.getBlock7Data=function(t,r){var n=[];if(t+1<a.matrixSize&&r+2<a.matrixSize){for(var o=0;o<=2;o++)n.push({row:t,column:r+o});n.push({row:t+1,column:r+1})}return n},r.getBlock8Data=function(t,r){var n=[];if(t+1<a.matrixSize&&r+1<a.matrixSize)for(var o=0;o<=1;o++)for(var e=0;e<=1;e++)n.push({row:t+o,column:r+e});return n},r.getBlock9Data=function(t,r){var n=[];if(t+2<a.matrixSize&&r+2<a.matrixSize)for(var o=0;o<=2;o++)for(var e=0;e<=2;e++)(0!=o||0!=e&&2!=e)&&(2!=o||0!=e&&2!=e)&&n.push({row:t+o,column:r+e});return n},n(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}(),r(c,"_instance",void 0),i=u))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/dragBlock.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./constant.ts","./commonFunc.ts"],(function(t){"use strict";var e,o,i,n,c,a,r,s,l,u,d,p,h,k;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,c=t.defineProperty},function(t){a=t.cclegacy,r=t._decorator,s=t.Prefab,l=t.Vec3,u=t.instantiate,d=t.UIOpacity,p=t.Component},function(t){h=t.constant},function(t){k=t.CommonFunc}],execute:function(){var g,B,f,v,y;a._RF.push({},"37a06zozmNKqKa4P1CmtGcZ","dragBlock",void 0);var D=r.ccclass,b=r.property;t("DragBlock",(g=D("DragBlock"),B=b({type:s}),g((y=e((v=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(n(e),"blockNode",y,n(e)),c(n(e),"isAccesible",!0),c(n(e),"currentPosition",new l(0,0,0)),c(n(e),"currentBlockType",""),e}o(e,t);var a=e.prototype;return a.start=function(){},a.initialiseSetup=function(){this.node.setScale(new l(h.dragBlockData.scale,h.dragBlockData.scale,0));var t=k.instance.getRandomInt(1,h.dragBlockData.totalBlockTypeSize);this.currentBlockType=h.playableDataBluePrint["block"+t];var e=k.instance.getRespectiveBlockFunction(this.currentBlockType,0,0);if(0==this.node.children.length)for(var o=0;o<h.dragBlockData.totalBlock;o++)for(var i=0;i<h.dragBlockData.totalBlock;i++){var n=u(this.blockNode);this.node.addChild(n),k.instance.getCurrentScript(n).initialiseProperties(o,i),this.setInsideBlockData(n,e)}else for(var c=0;c<this.node.children.length;c++){var a=this.node.children[c];this.setInsideBlockData(a,e)}},a.setInsideBlockData=function(t,e){var o=k.instance.getCurrentScript(t);o.opaqueBlock(0),o.isActive=!1;for(var i=0;i<e.length;i++){var n=e[i];n.row==o.position.row&&n.column==o.position.column&&o.toggleActive()}},a.resetBlock=function(t){t?(this.node.setPosition(this.currentPosition),this.node.setScale(new l(h.dragBlockData.scale,h.dragBlockData.scale,0))):(this.currentPosition=this.node.getPosition(),this.node.setScale(new l(h.dragBlockData.maxscale,h.dragBlockData.maxscale,h.dragBlockData.maxscale)))},a.checkIsAccesible=function(){return this.isAccesible},a.disableAcess=function(){this.node.getComponent(d).opacity=0,this.isAccesible=!1},a.enableAcess=function(){this.node.getComponent(d).opacity=255,this.isAccesible=!0},e}(p)).prototype,"blockNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=v))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/block.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,c,o,n,s,a;return{setters:[function(t){i=t.inheritsLoose,e=t.defineProperty,c=t.assertThisInitialized},function(t){o=t.cclegacy,n=t._decorator,s=t.UIOpacity,a=t.Component}],execute:function(){var r;o._RF.push({},"3e2b7qsM7xGGIUJe2gY5jmb","block",void 0);var l=n.ccclass;n.property,t("Block",l("Block")(r=function(t){function o(){for(var i,o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return i=t.call.apply(t,[this].concat(n))||this,e(c(i),"position",{row:0,column:0}),e(c(i),"isActive",!1),e(c(i),"isBlocked",!1),i}i(o,t);var n=o.prototype;return n.start=function(){},n.initialiseProperties=function(t,i){this.position.row=t,this.position.column=i,this.isActive=!1},n.getBlockedState=function(){return this.isBlocked},n.activateBlockedData=function(){this.opaqueActiveBlock(255),this.isBlocked=!0},n.deActivateBlockedData=function(){this.isBlocked=!1},n.getActiveState=function(){return this.isActive},n.toggleActive=function(){this.isActive=!this.isActive,this.checkIfActive()},n.checkIfActive=function(){this.isActive?(this.opaqueBlock(255),this.node.getChildByName("activeBlock").active=!0):this.node.getChildByName("activeBlock").active=!1},n.opaqueActiveBlock=function(t){this.node.getChildByName("activeBlock").getComponent(s).opacity=t},n.opaqueBlock=function(t){this.node.getComponent(s).opacity=t},o}(a))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/scoreManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,c,o;return{setters:[function(e){t=e.defineProperty,r=e.createClass},function(e){c=e.cclegacy,o=e._decorator}],execute:function(){var n,i,u;c._RF.push({},"b66efTUG/dE0YypPQFXyzHt","scoreManager",void 0);var a=o.ccclass;o.property,e("ScoreManager",a("ScoreManager")((u=i=function(){function e(){t(this,"currentScore",0)}var c=e.prototype;return c.updateScore=function(e){this.currentScore+=e},c.getScore=function(){return this.currentScore},c.resetHighScore=function(){this.currentScore>this.getHighScore()&&this.updateHighScore(this.currentScore)},c.updateHighScore=function(e){window.localStorage.setItem("blockPuzzleHighScore",e.toString())},c.getHighScore=function(){return null!=window.localStorage.getItem("blockPuzzleHighScore")&&null!=window.localStorage.getItem("blockPuzzleHighScore")||window.localStorage.setItem("blockPuzzleHighScore","0"),parseInt(window.localStorage.getItem("blockPuzzleHighScore"))},r(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}(),t(i,"_instance",void 0),n=u))||n);c._RF.pop()}}}));

System.register("chunks:///_virtual/homeScene.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,c,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,c=e._decorator,o=e.director,r=e.Component}],execute:function(){var i;n._RF.push({},"cac25pmPA1OU6TDpPT2r7mM","homeScene",void 0);var s=c.ccclass;c.property,e("HomeScene",s("HomeScene")(i=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var c=n.prototype;return c.start=function(){},c.onPlayClicked=function(){o.loadScene("game")},n}(r))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/constant.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(c){"use strict";var t,o;return{setters:[function(c){t=c.defineProperty},function(c){o=c.cclegacy}],execute:function(){o._RF.push({},"f5c4fvztY5D6ZYO6lqV8FiV","constant",void 0);var l=c("constant",(function(){}));t(l,"matrixSize",10),t(l,"dragBlockData",{size:3,scale:.5,maxscale:.9,totalBlock:4,totalBlockTypeSize:9}),t(l,"playableDataBluePrint",{block1:1,block2:2,block3:3,block4:4,block5:5,block6:6,block7:7,block8:8,block9:9}),o._RF.pop()}}}));

System.register("chunks:///_virtual/resources",["./scoreManager.ts","./gameOver.ts","./constant.ts","./commonFunc.ts","./gamePlay.ts","./dragBlock.ts","./block.ts","./homeScene.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/resources', 'chunks:///_virtual/resources'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});